<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance and Topics</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #76b852, #8dc26f); /* Green gradient background */
            transition: background 0.3s; /* Smooth transition for background color */
            color: #fff; /* Set default text color to white for contrast */
        }

        /* Keyframe Animation for Fade In */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Keyframe Animation for Slide In */
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .container {
            text-align: center;
            padding: 30px;
            animation: fadeIn 1s ease-in; /* Fade in animation */
            background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent black background */
            border-radius: 10px; /* Rounded corners for the container */
            margin: 20px; /* Space around the container */
        }

        h1 {
            margin-bottom: 20px;
            color: #ffec40; /* Bright yellow for the heading */
            font-size: 24px; /* Increase heading size */
            transition: color 0.3s; /* Smooth transition for text color */
        }

        h1:hover {
            color: #ffd700; /* Darker gold shade on hover */
        }

        .buttons {
            margin-bottom: 30px;
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            margin: 10px;
            cursor: pointer;
            background-color: #ff6f61; /* Vibrant coral button color */
            border: none; /* Remove default border */
            border-radius: 5px; /* Rounded corners */
            transition: background-color 0.3s, transform 0.2s; /* Smooth transition for hover effect */
            animation: slideIn 0.5s ease-in-out; /* Slide in animation for buttons */
            color: #fff; /* Button text color */
            font-weight: bold; /* Bold text for buttons */
        }

        button:hover {
            background-color: #e65c50; /* Darker shade on hover */
            transform: scale(1.05); /* Scale up button on hover */
        }

        .topics-section {
            display: flex;
            padding: 0 20px;
            height: calc(100vh - 160px); /* Full height minus the space for header and buttons */
            transition: height 0.3s; /* Smooth transition for height */
        }

        .topics-list {
            list-style-type: none;
            padding: 0;
            width: 200px; /* Set a fixed width for the topics list */
            margin-right: 20px;
            animation: slideIn 0.5s ease-in-out; /* Slide in animation for topics list */
        }

        .topics-list li {
            margin: 5px 0;
            padding: 15px; /* Increased padding for better touch targets */
            background-color: rgba(125, 13, 13, 0.558); /* Light background with transparency */
            border-radius: 10px; /* Rounded corners */
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s; /* Smooth transition for hover effect */
            color: #0a0a0a; /* White text for topics */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Subtle shadow for text */
        }

        .topics-list li:hover {
            background-color: rgba(255, 255, 255, 0.4); /* Change background on hover */
            transform: scale(1.03); /* Slightly scale the list item on hover */
        }

        .table-container {
            display: none;
            flex-grow: 1; /* This will make the table take up the remaining space */
            overflow: auto; /* To handle scrolling if the table gets too large */
            transition: opacity 0.3s; /* Smooth transition for table visibility */
            animation: fadeIn 1s ease-in; /* Fade in animation for the table */
            background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent background for the table container */
            border-radius: 10px; /* Rounded corners */
            padding: 20px; /* Padding inside table container */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            transition: transform 0.3s; /* Smooth transition for table appearance */
        }

        table, th, td {
            border: 1px solid #fff; /* White border for table */
        }

        th {
            background-color: #4d604d; /* Set header color */
            color: #fff; /* Set header text color to white for contrast */
        }

        th, td {
            padding: 12px;
            text-align: center;
        }

        td {
            background-color: rgba(255, 255, 255, 0.1); /* Light background for table data cells */
            transition: background-color 0.3s; /* Smooth transition for background color */
        }

        td:hover {
            background-color: rgba(255, 255, 255, 0.708); /* Darker shade on hover */
        }
    </style>
</head>
<body>

    <div class="container">
        <h2 id="welcomeMessage">Welcome</h2>
    <p><strong>Username:</strong> <span id="studentUsername"></span></p>
    <p><strong>Full Name:</strong> <span id="studentFullName"></span></p>
    <p><strong>Email:</strong> <span id="studentEmail"></span></p>
    <p><strong>Branch:</strong> <span id="studentBranch"></span></p>
        <h1>Attendance Percentage: 85%</h1>

        <div class="buttons">
            <button onclick="showTopics('technical')">Technical</button>
            <button onclick="showTopics('non-technical')">Non-Technical</button>
        </div>
    </div>

    <div class="topics-section">
        <div>
            <h2 id="topics-heading" style="display:none;">Topics</h2>
            <ul id="technical-topics" class="topics-list">
                <li onclick="showTable('Python', '01-Oct-2024 to 10-Oct-2024')">Python</li>
                <li onclick="showTable('C Language', '15-Oct-2024 to 25-Oct-2024')">C Language</li>
                <li onclick="showTable('DSA', '01-Nov-2024 to 10-Nov-2024')">DSA</li>
                <li onclick="showTable('Computer Networks', '12-Nov-2024 to 22-Nov-2024')">Computer Networks</li>
                <li onclick="showTable('Java', '25-Nov-2024 to 05-Dec-2024')">Java</li>
                <li onclick="showTable('OOPS Concept', '07-Dec-2024 to 15-Dec-2024')">OOPS Concept</li>
                <li onclick="showTable('DBMS', '17-Dec-2024 to 27-Dec-2024')">DBMS</li>
                <li onclick="showTable('OS', '01-Jan-2025 to 10-Jan-2025')">OS</li>
            </ul>
            <ul id="non-technical-topics" class="topics-list">
                <li onclick="showTable('Ratio and Proportion', '01-Oct-2024 to 05-Oct-2024')">Ratio and Proportion</li>
                <li onclick="showTable('Profit and Loss', '10-Oct-2024 to 15-Oct-2024')">Profit and Loss</li>
                <li onclick="showTable('Coding and Decoding', '20-Oct-2024 to 25-Oct-2024')">Coding and Decoding</li>
                <li onclick="showTable('Partnerships', '01-Nov-2024 to 05-Nov-2024')">Partnerships</li>
                <li onclick="showTable('LCM and HCF', '10-Nov-2024 to 15-Nov-2024')">LCM and HCF</li>
                <li onclick="showTable('Simple Interest', '20-Nov-2024 to 25-Nov-2024')">Simple Interest</li>
                <li onclick="showTable('Averages', '01-Dec-2024 to 05-Dec-2024')">Averages</li>
                <li onclick="showTable('Distance, Time and Speed', '10-Dec-2024 to 15-Dec-2024')">Distance, Time and Speed</li>
            </ul>
        </div>

        <div class="table-container" id="table-container">
            <h2 id="topic-name"></h2>
            <table>
                <thead>
                    <tr>
                        <th>Dates</th>
                        <th>Conducted Classes</th>
                        <th>Attended Classes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="topic-dates"></td>
                        <td>10</td>
                        <td>8</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function showTopics(type) {
            // Hide both topic lists initially
            document.getElementById('technical-topics').style.display = 'none';
            document.getElementById('non-technical-topics').style.display = 'none';

            // Show the appropriate topics based on the clicked button
            if (type === 'technical') {
                document.getElementById('technical-topics').style.display = 'block';
            } else if (type === 'non-technical') {
                document.getElementById('non-technical-topics').style.display = 'block';
            }

            // Show the "Topics" heading when either button is clicked
            document.getElementById('topics-heading').style.display = 'block';

            // Hide the table if it was previously displayed
            document.getElementById('table-container').style.display = 'none';
        }

        function showTable(topic, dates) {
            // Set the table heading to the topic name
            document.getElementById('topic-name').innerText = topic;

            // Set the dates in the table's "Dates" column
            document.getElementById('topic-dates').innerText = dates;

            // Show the table container
            document.getElementById('table-container').style.display = 'block';
        }

    async function getuserdata() {
        try {
            const username = localStorage.getItem('username')
            const resp = await fetch(`/getStudentDetails?username=${username}`)
            if (!resp.ok) throw new Error(`Error: ${resp.status}`);
            const data = await resp.json();
            console.log(data)
            document.getElementById('welcomeMessage').innerText = `Welcome, ${data.fullName}❣️`;

            document.getElementById("studentUsername").innerText = data.username;
            document.getElementById("studentFullName").innerText = data.fullName;
            document.getElementById("studentEmail").innerText = data.email;
            document.getElementById("studentBranch").innerText = data.branch;
        }catch(error) {
            console.error("Error fetching data:", error);
            // document.getElementById("data-output").textContent = "Failed to load data.";
      }
        
    }
getuserdata()


    </script>

</body>
</html>
